{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","hadtoshare.min.js","src/main.es6","node_modules/checkout-browser-kit/lib/index.js","node_modules/checkout-browser-kit/lib/modules/event-manager.js","node_modules/checkout-browser-kit/lib/modules/logger.js","node_modules/hogan/node_modules/hogan.js/lib/compiler.js","node_modules/hogan/node_modules/hogan.js/lib/hogan.js","node_modules/hogan/node_modules/hogan.js/lib/template.js","src/modules/constants.es6","src/modules/hadtoshare.es6","src/modules/localisation.es6","src/modules/renderer.es6","src/modules/share.es6","src/templates.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireWildcard","obj","__esModule","default","_HadToShare","_HadToShare2","_import","constants","_BrowserKit","_BrowserKit2","Logger","EventManager","log","namespace","version","window","Object","defineProperties","addEventHandler","eventName","handler","removeEventHandler","removeAllEventHandlers","render","config","get","configurable","enumerable","debugMode","set","value","GLOBAL_CONFIG_NAME_SUFFIX","dispatchLogEvent","Events","READY","./modules/constants.es6","./modules/hadtoshare.es6","checkout-browser-kit",2,"_interopRequireDefault","_Logger","_Logger2","_EventManager","_EventManager2","browserKitMake","document","console","debug","warn","error","Array","prototype","indexOf","searchElement","fromIndex","isNaN","this","Function","bind","b","c","TypeError","slice","arguments","d","apply","concat","DomReady","domReady","isReady","readyList","fn","addLoadEvent","func","oldonload","onload","bindReady","readyBound","addEventListener","browser","opera","msie","top","Func","documentElement","doScroll","setTimeout","styleSheets","disabled","safari","numStyles","readyState","undefined","links","getElementsByTagName","getAttribute","styles","userAgent","navigator","toLowerCase","match","test","mozilla","ready","args","push","BrowserKit","noop","trimString","str","replace","getIEVersion","myNav","arr","split","parseInt","isIE6to9","ieVersion","extend","target","arg","key","hasOwnProperty","toQueryString","url","params","encodeURIComponent","isValidJSON","jsonString","testStr","ajaxConstants","defaults","TYPE","TIMEOUT_MS","CANCEL_PREVIOUS","REQUEST_SOURCE","CKO_SCRIPT_ID","states","DONE","statuses","TIMEOUT","OK","GENERAL_ERROR","headers","AUTHORIZATION","ACCEPT","CONTENT_TYPE","CKO_ACTION","CKO_REQUEST_SOURCE","headerValues","JSON_TYPE","PLAIN_TEXT_TYPE","ajax","buildErrorObject","status","err","activeRequests","getSanitizedUrl","String","jsonpCount","successCallback","errorCallback","options","buildTimeoutErrorObject","errorCode","message","requestSource","type","cancelPrevious","useJSONP","forceJSONP","XMLHttpRequest","jsonpUrl","jsonp","authorization","data","JSON","stringify","urlKey","script","timer","param","head","scriptId","jsonpCallback","cleanup","callback","safeMode","parentNode","removeChild","timeout","clearTimeout","createElement","src","insertBefore","xhr","open","setRequestHeader","onreadystatechange","parse","responseText","send","abort","DOM","tag","element","classNames","addClass","toString","id","setAttribute","attributes","attrKey","styling","stylingKey","style","innerHTML","events","eventKey","parent","appendChild","hasClass","cls","className","RegExp","removeClass","reg","enableElement","removeAttribute","disableElement","ieCheckEvent","event","preventDefault","returnValue","stopPropagation","cancelBubble","attachEvent","isElement","isJqueryElement","nodeType","isJqueryLoaded","jQuery","DOM_ID_SELECTOR","DOM_CLASS_SELECTOR","DOM_SELECTORS_REGEX","getElements","selector","hasClassSelector","selResult","querySelectorAll","getElementsByClassName","getElement","fallbackElement","hasIdSelector","getElementById","elements","./modules/event-manager","./modules/logger",3,"_classCallCheck","instance","Constructor","_createClass","props","descriptor","writable","defineProperty","protoProps","staticProps","_eventHandlers","loggingLevel","triggerEventHandlers","dispatchEvent","handlerTriggerCount","index","handlers","splice","getEventHandlerCount","./logger",4,"_debugMode","LOG_LEVELS","msg","_len","_key","level","unshift",5,"Hogan","cleanTripleStache","token","substr","substring","trim","tagChange","text","charAt","buildTree","tokens","kind","stack","customTags","instructions","opener","tail","shift","allowedInSuper","tags","isOpener","nodes","pop","isCloser","end","last","close","stringifySubstitutions","items","esc","join","stringifyPartials","codeObj","partials","name","subs","rSlash","rQuot","rNewline","rCr","rLineSep","rParagraphSep","chooseMethod","createPartial","node","context","prefix","sym","serialNo","indent","tripleStache","write","rIsWhitespace","#","^","<","$","/","!",">","=","_v","{","&","_t","scan","delimiters","addBuf","buf","lineIsWhitespace","isAllWhitespace","j","lineStart","filterLine","haveSeenTag","noNewLine","next","seenTag","changeDelimiters","ctag","closeIndex","otag","len","IN_TEXT","IN_TAG_TYPE","IN_TAG","state","tagType","\n","wrapMain","generate","tree","walk","asString","makeTemplate","template","Template","makePartials","codegen","ctx","inPartial","nodelist","sectionTags","cache","cacheKey","disableLambda","modelGet","compile",6,"./compiler","./template",7,"findInScope","scope","doModelGet","val","createSpecializedPartial","stackSubs","stackPartials","stackText","PartialTemplate","Substitutions","partial","subsText","coerceToString","hoganEscape","hChars","rAmp","rLt","rGt","rApos","compiler","v","ri","ep","symbol","base","activeSub","rp","rs","section","isArray","inverted","start","pass","ms","returnFound","found","names","cx","mv","ls","oldTags","ct","fl","textSource","result","sub",8,"VERSION","DEFAULT_NAMESPACE","SCRIPT_TAG_SRC_REGEX","NAMESPACE_REGEX_VALIDATION","DEFAULT_LOCALISATION","LOCALISATION_REGEX_VALIDATION","DEFAULT_CSS_PATH","DEFAULT_LOGO_PATH","Errors","MISSING_CONFIGURATION","INVALID_CONFIGURATION","NO_ARGUMENTS_FOUND","INVALID_URL","INVALID_NAMESPACE","INVALID_CALLBACK","CONTENT_SHARED","eventsValueKeyMap","valueExists",9,"getPluginScriptTag","currentScript","scripts","checkAndAddEventHandlers","configValues","setNamespace","_scriptTag","_config","loadCSS","cssElement","_Renderer","_Renderer2","HadToShare","isDebugMode","localisation","htmlContainer","htmlContainerSelector","logoUrl","INVALID_LOCALISATION","toUpperCase","configure","./constants.es6","./renderer.es6",10,"LocalisedMessages","EN-GB","title","FR-FR","CR-MU",11,"_elements","_LocalisedMessages","_LocalisedMessages2","_import2","share","_templates","_templates2","Renderer","clear","html","plugin","shareTargets","targets","shareFunction","post","container","../templates.js","./localisation.es6","./share.es6",12,"targetName","_metadata","metadata","_defineProperty","targetLookup","titleField","urlField","postUrl","targetUrl","Symbol","constructor","iconUrl","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","done",13,"templates","p","hogan"],"mappings":"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","file":"hadtoshare.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",null,"import HadToShare from \"./modules/hadtoshare.es6\";\nimport * as constants from \"./modules/constants.es6\";\nimport BrowserKit from \"checkout-browser-kit\";\n\nconst Logger = BrowserKit.Logger;\nconst EventManager = BrowserKit.EventManager;\n\n/** Bootstrap **/\n\n//HadToShare.configure();\nLogger.log(`< ${HadToShare.namespace} v${HadToShare.version} >`, 'log');\n\n/** Public Interface **/\n\nwindow[HadToShare.namespace] = {\n    get version() {\n        return HadToShare.version;\n    },\n\n    get namespace() {\n        return HadToShare.namespace;\n    },\n\n    get debugMode() {\n        return HadToShare.debugMode;\n    },\n    set debugMode(value) {\n        HadToShare.debugMode = value;\n    },\n\n    addEventHandler(eventName, handler) {\n        EventManager.addEventHandler(eventName, handler);\n    },\n    removeEventHandler(eventName, handler) {\n        EventManager.removeEventHandler(eventName, handler);\n    },\n    removeAllEventHandlers() {\n        EventManager.removeAllEventHandlers();\n    },\n\n    render(config) {\n        HadToShare.render(config);\n    }\n};\n\nHadToShare.render(window[`${HadToShare.namespace}${constants.GLOBAL_CONFIG_NAME_SUFFIX}`]);\n\n// ready to go ...\nEventManager.dispatchLogEvent(constants.Events.READY);\n","\"use strict\";\n\nvar _interopRequireDefault = function (obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; };\n\nvar _Logger = require(\"./modules/logger\");\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _EventManager = require(\"./modules/event-manager\");\n\nvar _EventManager2 = _interopRequireDefault(_EventManager);\n\nvar browserKitMake = function browserKitMake(window, document) {\n    /******* Polyfills ********/\n    (function () {\n        // Define window.console - IE bug if Developer Tools is not open\n        if (typeof window.console === \"undefined\") {\n            // silently fails\n            window.console = {\n                log: function log() {},\n                debug: function debug() {},\n                warn: function warn() {},\n                error: function error() {}\n            };\n        }\n\n        if (!Array.prototype.indexOf) {\n            Array.prototype.indexOf = function (searchElement, fromIndex) {\n                if (isNaN(fromIndex)) {\n                    fromIndex = 0;\n                }\n                for (var i = fromIndex; i < this.length; i++) {\n                    if (this[i] === searchElement) return i;\n                }\n                return -1;\n            };\n        }\n\n        Function.prototype.bind = (function () {}).bind || function (b) {\n            if (typeof this !== \"function\") {\n                throw new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");\n            }\n\n            function c() {}\n            var a = [].slice,\n                f = a.call(arguments, 1),\n                e = this,\n                d = function d() {\n                return e.apply(this instanceof c ? this : b || window, f.concat(a.call(arguments)));\n            };\n            c.prototype = this.prototype;\n            d.prototype = new c();\n            return d;\n        };\n    })();\n\n    /*!\n     * DOM Ready\n     * https://code.google.com/p/domready/\n     */\n    /* jshint ignore:start */\n    var DomReady = (function () {\n        var DomReady = {};\n\n        // Everything that has to do with properly supporting our document ready event. Brought over from the most awesome jQuery.\n\n        var userAgent = window.navigator.userAgent.toLowerCase();\n\n        // Figure out what browser is being used\n        var browser = {\n            version: (userAgent.match(/.+(?:rv|it|ra|ie)[\\/: ]([\\d.]+)/) || [])[1],\n            safari: /webkit/.test(userAgent),\n            opera: /opera/.test(userAgent),\n            msie: /msie/.test(userAgent) && !/opera/.test(userAgent),\n            mozilla: /mozilla/.test(userAgent) && !/(compatible|webkit)/.test(userAgent)\n        };\n\n        var readyBound = false;\n        var isReady = false;\n        var readyList = [];\n\n        // Handle when the DOM is ready\n        function domReady() {\n            // Make sure that the DOM is not already loaded\n            if (!isReady) {\n                // Remember that the DOM is ready\n                isReady = true;\n\n                if (readyList) {\n                    for (var fn = 0; fn < readyList.length; fn++) {\n                        readyList[fn].call(window, []);\n                    }\n\n                    readyList = [];\n                }\n            }\n        };\n\n        // From Simon Willison. A safe way to fire onload w/o screwing up everyone else.\n        function addLoadEvent(func) {\n            var oldonload = window.onload;\n            if (typeof window.onload != \"function\") {\n                window.onload = func;\n            } else {\n                window.onload = function () {\n                    if (oldonload) {\n                        oldonload();\n                    }\n                    func();\n                };\n            }\n        };\n\n        // does the heavy work of working through the browsers idiosyncracies (let's call them that) to hook onload.\n        function bindReady() {\n            if (readyBound) {\n                return;\n            }\n\n            readyBound = true;\n\n            // Mozilla, Opera (see further below for it) and webkit nightlies currently support this event\n            if (document.addEventListener && !browser.opera) {\n                // Use the handy event callback\n                document.addEventListener(\"DOMContentLoaded\", domReady, false);\n            }\n\n            // If IE is used and is not in a frame\n            // Continually check to see if the document is ready\n            if (browser.msie && window == top) (function Func() {\n                if (isReady) {\n                    return;\n                }try {\n                    // If IE is used, use the trick by Diego Perini\n                    // http://javascript.nwbox.com/IEContentLoaded/\n                    document.documentElement.doScroll(\"left\");\n                } catch (error) {\n                    setTimeout(Func, 0);\n                    return;\n                }\n                // and execute any waiting functions\n                domReady();\n            })();\n\n            if (browser.opera) {\n                document.addEventListener(\"DOMContentLoaded\", function Func() {\n                    if (isReady) {\n                        return;\n                    }for (var i = 0; i < document.styleSheets.length; i++) if (document.styleSheets[i].disabled) {\n                        setTimeout(Func, 0);\n                        return;\n                    }\n                    // and execute any waiting functions\n                    domReady();\n                }, false);\n            }\n\n            if (browser.safari) {\n                var numStyles;\n                (function Func() {\n                    if (isReady) {\n                        return;\n                    }if (document.readyState != \"loaded\" && document.readyState != \"complete\") {\n                        setTimeout(Func, 0);\n                        return;\n                    }\n                    if (numStyles === undefined) {\n                        var links = document.getElementsByTagName(\"link\");\n                        for (var i = 0; i < links.length; i++) {\n                            if (links[i].getAttribute(\"rel\") == \"stylesheet\") {\n                                numStyles++;\n                            }\n                        }\n                        var styles = document.getElementsByTagName(\"style\");\n                        numStyles += styles.length;\n                    }\n                    if (document.styleSheets.length != numStyles) {\n                        setTimeout(Func, 0);\n                        return;\n                    }\n\n                    // and execute any waiting functions\n                    domReady();\n                })();\n            }\n\n            // A fallback to window.onload, that will always work\n            addLoadEvent(domReady);\n        };\n\n        // This is the public function that people can use to hook up ready.\n        DomReady.ready = function (fn, args) {\n            // Attach the listeners\n            bindReady();\n\n            // If the DOM is already ready\n            if (isReady) {\n                // Execute the function immediately\n                fn.call(window, []);\n            } else {\n                // Add the function to the wait list\n                readyList.push(function () {\n                    return fn.call(window, []);\n                });\n            }\n        };\n\n        bindReady();\n\n        return DomReady;\n    })();\n    /* jshint ignore: end */\n\n    /******* BrowserKit *******/\n    var BrowserKit = {\n        /**\n         * Empty/Dummy function.\n         */\n        noop: function noop() {},\n\n        /**\n         * Removes spaces from both sides of a string.\n         */\n        trimString: function trimString(str) {\n            if (!str || typeof str !== \"string\") {\n                return \"\";\n            }return str.replace(/^\\s+|\\s+$/g, \"\");\n        },\n\n        /**\n         * Return IE version or 'false'.\n         */\n        getIEVersion: function getIEVersion() {\n            var version = false,\n                myNav = window.navigator.userAgent.toLowerCase();\n            if (~myNav.indexOf(\"msie\")) {\n                var arr = myNav.split(\"msie\");\n                if (arr.length > 1) {\n                    version = parseInt(myNav.split(\"msie\")[1], 10);\n                }\n            }\n            var getIEVersion = function getIEVersion() {\n                return isNaN(version) ? false : version;\n            };\n            // rewrite the function on return to avoid further processing\n            BrowserKit.getIEVersion = getIEVersion;\n\n            return getIEVersion();\n        },\n\n        /**\n         * Returns true if IE and IE version V is 6 <= V <= 9.\n         */\n        isIE6to9: function isIE6to9() {\n            var ieVersion = BrowserKit.getIEVersion();\n            return !!ieVersion && ieVersion >= 6 && ieVersion <= 9;\n        },\n\n        /**\n         * Copies all properties of all objects passed in the arguments list to the 'target' object.\n         */\n        extend: function extend(target) {\n            target = target || {};\n            for (var i = 1; i < arguments.length; i++) {\n                var arg = arguments[i];\n                if (!arg) continue;\n                for (var key in arg) {\n                    if (arg.hasOwnProperty(key)) {\n                        target[key] = arg[key];\n                    }\n                }\n            }\n            return target;\n        },\n\n        /**\n         * Flattens a parameter object into a querystring added to a URL.\n         */\n        toQueryString: function toQueryString(url, params) {\n            var str = \"\";\n            if (!params || typeof params !== \"object\") {\n                return str;\n            }for (var key in params) {\n                if (params.hasOwnProperty(key)) {\n                    str += (str === \"\" && ! ~url.indexOf(\"?\") ? \"?\" : \"&\") + encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]);\n                }\n            }\n            return str;\n        },\n\n        /**\n         * Test if string is valid JSON via RegEx\n         * Ref:  line 450 in https://github.com/douglascrockford/JSON-js/blob/master/json2.js\n         *\n         * Note: Amended to return false for null | undefined | empty string\n         */\n        isValidJSON: function isValidJSON(jsonString) {\n            var testStr = BrowserKit.trimString(jsonString);\n            return !!testStr && /^[\\],:{}\\s]*$/.test(testStr.replace(/\\\\[\"\\\\\\/bfnrtu]/g, \"@\").replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, \"]\").replace(/(?:^|:|,)(?:\\s*\\[)+/g, \"\"));\n        },\n\n        /**\n         * Ajax dependency constants.\n         */\n        ajaxConstants: {\n            defaults: {\n                TYPE: \"get\",\n                TIMEOUT_MS: 60000,\n                CANCEL_PREVIOUS: true\n            },\n            REQUEST_SOURCE: \"JS\",\n            CKO_SCRIPT_ID: \"__checkoutJSONP\",\n            states: {\n                DONE: 4\n            },\n            statuses: {\n                TIMEOUT: 0,\n                OK: 200,\n                GENERAL_ERROR: 500\n            },\n            headers: { // matching HTTP header names for header keys\n                AUTHORIZATION: \"Authorization\",\n                ACCEPT: \"Accept\",\n                CONTENT_TYPE: \"Content-Type\",\n                CKO_ACTION: \"X-CKO-Action\",\n                CKO_REQUEST_SOURCE: \"X-CKO-REQUEST-SOURCE\"\n            },\n            headerValues: {\n                JSON_TYPE: \"application/json\",\n                PLAIN_TEXT_TYPE: \"text/plain\"\n            }\n        },\n\n        /**\n         * Ajax Helper - will use JSONP if CORS not supported on browser.\n         *\n         * Note: JSONP enforced for IE8 + 9, due to broken implementations.\n         */\n        ajax: (function () {\n            // keep track of active requests via URLs as keys (without querystring)\n            // the value is a cancel function for that request\n            var activeRequests = {};\n\n            var getSanitizedUrl = function getSanitizedUrl(url) {\n                return url ? String(url).split(\"?\")[0] : null;\n            };\n\n            // Count used when creating JSONP SCRIPT tags to avoid duplication\n            var jsonpCount = 0;\n\n            function buildErrorObject(status, err) {\n                return {\n                    status: status,\n                    error: err\n                };\n            }\n\n            return function (url, params, successCallback, errorCallback, options) {\n                var constants = BrowserKit.ajaxConstants;\n\n                function buildTimeoutErrorObject() {\n                    return buildErrorObject(constants.statuses.GENERAL_ERROR, {\n                        errorCode: constants.statuses.GENERAL_ERROR,\n                        message: \"timed out\"\n                    });\n                }\n\n                params = params || {};\n                params.requestSource = constants.REQUEST_SOURCE;\n\n                options = options || {};\n                options.type = options.type || constants.defaults.TYPE;\n                options.cancelPrevious = typeof options.cancelPrevious !== \"undefined\" ? !!options.cancelPrevious : constants.defaults.CANCEL_PREVIOUS;\n\n                // initialise headers\n                options.headers = options.headers || {};\n                options.headers.ACCEPT = constants.headerValues.JSON_TYPE; // very unlikely to ever change\n\n                var useJSONP = options.forceJSONP || (typeof XMLHttpRequest === \"undefined\" || BrowserKit.isIE6to9());\n\n                // if we're using JSONP, check if a separate URL has been provided\n                // also, we pass everything in a 'data' property if JSONP\n                if (useJSONP) {\n                    url = options.jsonpUrl ? String(options.jsonpUrl) : url;\n\n                    params = BrowserKit.extend({\n                        jsonp: true,\n                        authorization: options.headers.AUTHORIZATION\n                    }, options.type === \"get\" ? params : {\n                        data: JSON.stringify(params)\n                    });\n                }\n\n                // cancel any previously running request on same URL\n                var urlKey = getSanitizedUrl(url);\n                if (urlKey && options.cancelPrevious && activeRequests[urlKey]) {\n                    activeRequests[urlKey]();\n                    delete activeRequests[urlKey];\n                }\n\n                if (options.type === \"get\" || useJSONP) {\n                    url += BrowserKit.toQueryString(url, params);\n                }\n\n                if (!useJSONP) {\n                    var xhr = new XMLHttpRequest();\n                    // we need to open the connection before we can set headers etc.\n                    xhr.open(options.type, url, true);\n\n                    // assign headers\n                    options.headers.CONTENT_TYPE = options.type === \"get\" ? constants.headerValues.PLAIN_TEXT_TYPE : constants.headerValues.JSON_TYPE;\n\n                    for (var key in options.headers) {\n                        if (constants.headers[key]) {\n                            xhr.setRequestHeader(constants.headers[key], options.headers[key]);\n                        }\n                    }\n\n                    xhr.timeout = options.timeout || constants.defaults.TIMEOUT_MS;\n                    xhr.onreadystatechange = function () {\n                        var status, data;\n                        // http://xhr.spec.whatwg.org/#dom-xmlhttprequest-readystate\n                        if (xhr.readyState == constants.states.DONE) {\n                            // `DONE`\n                            delete activeRequests[urlKey];\n                            status = xhr.status;\n                            if (status == constants.statuses.OK) {\n                                data = JSON.parse(xhr.responseText);\n                                if (typeof successCallback === \"function\") {\n                                    successCallback(data);\n                                }\n                            } else if (status == constants.statuses.TIMEOUT) {\n                                if (typeof errorCallback === \"function\") {\n                                    errorCallback(buildTimeoutErrorObject());\n                                }\n                            } else {\n                                if (typeof errorCallback === \"function\") {\n                                    errorCallback(buildErrorObject(status, JSON.parse(xhr.responseText)));\n                                }\n                            }\n                        }\n                    };\n\n                    if (options.type === \"get\") {\n                        xhr.send();\n                    } else {\n                        xhr.send(JSON.stringify(params));\n                    }\n                    // function to cancel the request\n                    activeRequests[urlKey] = function () {\n                        xhr.abort();\n                    };\n                } else {\n                    var param = \"callback\",\n                        target = document.getElementsByTagName(\"script\")[0] || document.head,\n                        script,\n                        timer,\n                        scriptId = options.jsonpCallback || constants.CKO_SCRIPT_ID + jsonpCount++,\n                        cleanup = function cleanup(callback, data, safeMode) {\n                        delete activeRequests[urlKey];\n                        if (script && script.parentNode) {\n                            script.parentNode.removeChild(script);\n                        }\n                        // in safemode (or IE8/9), we just reassign window[scriptId], in case it gets run!\n                        if (safeMode) {\n                            window[scriptId] = BrowserKit.noop;\n                        } else {\n                            // in the event of a bad browser implementation.\n                            try {\n                                delete window[scriptId];\n                            } catch (e) {\n                                window[scriptId] = void 0;\n                            }\n                        }\n                        if (typeof callback === \"function\") {\n                            callback(data);\n                        }\n                    };\n\n                    timer = setTimeout(function () {\n                        // cleanup safely\n                        cleanup(errorCallback, buildTimeoutErrorObject());\n                    }, options.timeout || constants.defaults.TIMEOUT_MS);\n\n                    window[scriptId] = function (data) {\n                        if (timer) clearTimeout(timer);\n                        // the only way to work out which callback to trigger is by checking for the existence of the errorCode property in the response payload\n                        if (typeof data.errorCode === \"undefined\") {\n                            cleanup(successCallback, data);\n                        } else {\n                            cleanup(errorCallback, buildErrorObject(constants.statuses.GENERAL_ERROR, data));\n                        }\n                    };\n\n                    // add callback to url\n                    url += (~url.indexOf(\"?\") ? \"&\" : \"?\") + param + \"=\" + encodeURIComponent(scriptId);\n                    url = url.replace(\"?&\", \"?\");\n\n                    // create script and insert into DOM\n                    script = document.createElement(\"script\");\n                    script.src = url;\n                    target.parentNode.insertBefore(script, target);\n                    // function to cancel the request\n                    activeRequests[urlKey] = function () {\n                        // we can't quite cancel the request here cleanly\n                        // we just cleanup safely!\n                        cleanup(null, null, true);\n                    };\n                }\n            };\n        })(),\n\n        /**\n         * DOM Helper to manipulate HTML elements.\n         */\n        DOM: {\n            /**\n             * Triggered when DOM is ready\n             */\n            ready: DomReady.ready,\n            /**\n             * Helper function to create a DOM element and optionally add it to a parent element and/or decorate with attributes,styling, events and HTML content.\n             *\n             * options = {\n             *     parent: parentElement,\n             *     classNames: 'className', // or [className1, className2]\n             *     attributes: {\n             *         attrib: 'val1',\n             *         'another-attrib': 'val2'\n             *     },\n             *     innerHTML: 'text', // or '<span>text</span'\n             *     styling: {\n             *         backgroundColor: '#999'\n             *     },\n             *     // or\n             *     styling: 'background-color: #999; color: #fff;',\n             *     events: {\n             *         'eventName': function(event) {\n             *\n             *         }\n             *     }\n             * }\n             */\n            createElement: function createElement(tag, options) {\n                var element = document.createElement(tag);\n                if (options && typeof options === \"object\") {\n                    if (typeof options.classNames === \"string\") {\n                        BrowserKit.DOM.addClass(element, options.classNames);\n                    } else if (Object.prototype.toString.call(options.classNames) === \"[object Array]\") {\n                        for (var c = 0; c < options.classNames.length; c++) {\n                            BrowserKit.DOM.addClass(element, options.classNames[c]);\n                        }\n                    }\n                    if (typeof options.id === \"string\") {\n                        element.setAttribute(\"id\", options.id);\n                    }\n                    if (options.attributes && typeof options.attributes === \"object\") {\n                        for (var attrKey in options.attributes) {\n                            if (options.attributes.hasOwnProperty(attrKey)) {\n                                element.setAttribute(attrKey, options.attributes[attrKey]);\n                            }\n                        }\n                    }\n                    if (options.styling) {\n                        if (typeof options.styling === \"string\") {\n                            element.setAttribute(\"styling\", options.styling);\n                        } else if (typeof options.styling === \"object\") {\n                            for (var stylingKey in options.styling) {\n                                if (options.styling.hasOwnProperty(stylingKey)) {\n                                    element.style[stylingKey] = options.styling[stylingKey];\n                                }\n                            }\n                        }\n                    }\n                    if (typeof options.innerHTML === \"string\") {\n                        element.innerHTML = options.innerHTML;\n                    }\n                    if (options.events && typeof options.events === \"object\") {\n                        for (var eventKey in options.events) {\n                            if (options.events.hasOwnProperty(eventKey)) {\n                                BrowserKit.DOM.addEventListener(element, eventKey, options.events[eventKey]);\n                            }\n                        }\n                    }\n                    if (options.parent && options.parent.appendChild) {\n                        options.parent.appendChild(element);\n                    }\n                }\n\n                return element;\n            },\n            /**\n             * Classname manipulation\n             */\n            hasClass: function hasClass(element, cls) {\n                return element.className.match(new RegExp(\"(\\\\s|^)\" + cls + \"(\\\\s|$)\"));\n            },\n            addClass: function addClass(element, cls) {\n                if (!this.hasClass(element, cls)) {\n                    element.className += (!!element.className ? \" \" : \"\") + cls;\n                }\n            },\n            removeClass: function removeClass(element, cls) {\n                if (this.hasClass(element, cls)) {\n                    var reg = new RegExp(\"(\\\\s|^)\" + cls + \"(\\\\s|$)\");\n                    element.className = element.className.replace(reg, \" \");\n                }\n            },\n            enableElement: function enableElement(element) {\n                element.removeAttribute(\"disabled\");\n            },\n            disableElement: function disableElement(element) {\n                element.setAttribute(\"disabled\", \"disabled\");\n            },\n            /**\n             * Cross browser way to add an event handler\n             */\n            addEventListener: function addEventListener(target, eventName, callback) {\n                if (typeof callback !== \"function\") {\n                    throw new Error(\"Callback must be a function\");\n                }\n\n                // treats event object for IE\n                function ieCheckEvent(event) {\n                    if (!event.preventDefault) {\n                        event.preventDefault = function () {\n                            event.returnValue = false;\n                        };\n                    }\n                    if (!event.stopPropagation) {\n                        event.stopPropagation = function () {\n                            event.cancelBubble = true;\n                        };\n                    }\n                }\n\n                if (target.attachEvent) {\n                    //Internet Explorer\n                    target.attachEvent(\"on\" + eventName, function (event) {\n                        ieCheckEvent(event);\n                        callback(event);\n                    });\n                } else if (target.addEventListener) {\n                    target.addEventListener(eventName, function (event) {\n                        ieCheckEvent(event);\n                        callback(event);\n                    }, false);\n                }\n            },\n            /**\n             * Returns true if element is a HTML element\n             */\n            isElement: function isElement(element) {\n                if (typeof element !== \"object\") {\n                    return false;\n                } else {\n                    return this.isJqueryElement(element) || element.nodeType === 1;\n                }\n            },\n            /**\n             * Returns true if JQuery is loaded\n             */\n            isJqueryLoaded: function isJqueryLoaded() {\n                return typeof jQuery !== \"undefined\" && jQuery !== null;\n            },\n            /**\n             * Returns true if element is wrapped by JQuery\n             */\n            isJqueryElement: function isJqueryElement(element) {\n                return this.isJqueryLoaded() && element instanceof jQuery;\n            },\n            // selectors\n            DOM_ID_SELECTOR: \"#\",\n            DOM_CLASS_SELECTOR: \".\",\n            DOM_SELECTORS_REGEX: /#?\\.?/g,\n            /**\n             * Returns a list of DOM elements via the Class selector\n             * @param  {object} parent          (optional) The parent DOM Element. Defaults to 'document'.\n             * @param  {string} selector        Class (eg: .container)\n             */\n            getElements: function getElements() {\n                // [parent], selector\n                var element;\n                var selector;\n                var parent;\n\n                parent = typeof arguments[0] === \"object\" && arguments[0] || document;\n                if (typeof arguments[0] === \"string\") {\n                    selector = arguments[0];\n                } else if (typeof arguments[1] === \"string\") {\n                    selector = arguments[1];\n                } else {\n                    throw new Error(\"Incorrect implementation. Selector is missing.\");\n                }\n\n                var hasClassSelector = ~selector.indexOf(this.DOM_CLASS_SELECTOR);\n                var ieVersion = BrowserKit.getIEVersion();\n\n                selector = selector.replace(this.DOM_SELECTORS_REGEX, \"\");\n\n                var selResult;\n                if (hasClassSelector) {\n                    // IE8\n                    if (ieVersion === 8 && parent.querySelectorAll) {\n                        selector = this.DOM_CLASS_SELECTOR + selector;\n                        selResult = parent.querySelectorAll(selector);\n                    } else if (parent.getElementsByClassName) {\n                        selResult = parent.getElementsByClassName(selector);\n                    }\n                }\n                return selResult || [];\n            },\n            /**\n             * Returns a DOM element via the selector (ID or Class).\n             * @param  {object} parent          (optional) The parent DOM Element. Defaults to 'document'. Always 'document' if selector is an ID.\n             * @param  {string} selector        ID or Class (eg: #container or .container)\n             * @param  {object} fallbackElement (optional) A DOM Element to return if no matches\n             */\n            getElement: function getElement() {\n                // [parent], selector[, fallbackElement]\n                var element;\n                var selector;\n                var parent;\n                var fallbackElement;\n\n                parent = typeof arguments[0] === \"object\" && arguments[0] || document;\n                if (typeof arguments[0] === \"string\") {\n                    selector = arguments[0];\n                    fallbackElement = arguments[1];\n                } else if (typeof arguments[1] === \"string\") {\n                    selector = arguments[1];\n                    fallbackElement = arguments[2];\n                } else {\n                    throw new Error(\"Incorrect implementation. Selector is missing.\");\n                }\n\n                // assign default selector\n                var hasIdSelector = ~selector.indexOf(this.DOM_ID_SELECTOR);\n                var hasClassSelector = !hasIdSelector && ~selector.indexOf(this.DOM_CLASS_SELECTOR);\n                var ieVersion = BrowserKit.getIEVersion();\n\n                // if none specified, by default the selector is an ID\n                // this is also valid for IE6/7 (we force ID)\n                if (hasIdSelector || !hasIdSelector && !hasClassSelector || ieVersion >= 6 && ieVersion <= 7) {\n                    selector = selector.replace(this.DOM_SELECTORS_REGEX, \"\");\n                    element = document.getElementById(selector);\n                } else {\n                    // has class selector\n                    var elements = this.getElements(parent, selector);\n                    if (elements.length > 0) {\n                        element = elements[0];\n                    }\n                }\n\n                return element || fallbackElement;\n            }\n        },\n\n        EventManager: _EventManager2[\"default\"],\n        Logger: _Logger2[\"default\"]\n    };\n\n    return BrowserKit;\n};\n\n// if window & document are defined, create and export the kit.\n// otherwise, export the 'make' function - this is used in test environments.\nif (typeof window !== \"undefined\" && typeof document !== \"undefined\") {\n    module.exports = browserKitMake(window, document);\n} else {\n    module.exports = browserKitMake;\n}","'use strict';\n\nvar _interopRequireDefault = function (obj) { return obj && obj.__esModule ? obj : { 'default': obj }; };\n\nvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _Logger = require('./logger');\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\n/*************/\n/** Private **/\n/*************/\n\nvar _eventHandlers = {};\n\n/************/\n/** Public **/\n/************/\n\nvar EventManager = (function () {\n    function EventManager() {\n        _classCallCheck(this, EventManager);\n    }\n\n    _createClass(EventManager, null, [{\n        key: 'dispatchEvent',\n        value: function dispatchEvent(eventName, data, loggingLevel) {\n            loggingLevel = loggingLevel || 'log';\n\n            _Logger2['default'].log('Event \\'' + eventName + '\\' dispatched', loggingLevel, {\n                data: data\n            });\n\n            EventManager.triggerEventHandlers(eventName, data);\n        }\n    }, {\n        key: 'dispatchLogEvent',\n        value: function dispatchLogEvent(eventName, data) {\n            EventManager.dispatchEvent(eventName, data, 'log');\n        }\n    }, {\n        key: 'dispatchWarnEvent',\n        value: function dispatchWarnEvent(eventName, data) {\n            EventManager.dispatchEvent(eventName, data, 'warn');\n        }\n    }, {\n        key: 'dispatchErrorEvent',\n        value: function dispatchErrorEvent(eventName, data) {\n            EventManager.dispatchEvent(eventName, data, 'error');\n        }\n    }, {\n        key: 'triggerEventHandlers',\n        value: function triggerEventHandlers(eventName, data) {\n            if (_eventHandlers[eventName]) {\n                var handlerTriggerCount = 0;\n                for (var index in _eventHandlers[eventName]) {\n                    _eventHandlers[eventName][index]({\n                        eventName: eventName,\n                        data: data\n                    });\n                    handlerTriggerCount++;\n                }\n\n                _Logger2['default'].log('Event \\'' + eventName + '\\' handled', 'log', {\n                    handlers: handlerTriggerCount\n                });\n            }\n        }\n    }, {\n        key: 'addEventHandler',\n        value: function addEventHandler(eventName, handler) {\n            if (!eventName || typeof handler !== 'function') {\n                return false;\n            }if (!_eventHandlers[eventName]) {\n                _eventHandlers[eventName] = [];\n            }\n            _eventHandlers[eventName][_eventHandlers[eventName].length] = handler;\n            return true;\n        }\n    }, {\n        key: 'removeEventHandler',\n\n        /**\n         * Removes one handler from the event stack for that event name.\n         */\n        value: function removeEventHandler(eventName, handler) {\n            if (typeof handler !== 'function' || !_eventHandlers[eventName]) {\n                return false;\n            }for (var index in _eventHandlers[eventName]) {\n                if (_eventHandlers[eventName][index] === handler) {\n                    _eventHandlers[eventName].splice(index, 1);\n                    return true;\n                }\n            }\n            return false;\n        }\n    }, {\n        key: 'removeEventHandlerAt',\n\n        /**\n         * Removes the handler at a specified index, from the event stack for that event name.\n         */\n        value: function removeEventHandlerAt(eventName, index) {\n            if (!_eventHandlers[eventName]) {\n                return false;\n            }if (index < _eventHandlers[eventName].length) {\n                _eventHandlers[eventName].splice(index, 1);\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }, {\n        key: 'removeAllEventHandlers',\n\n        /**\n         * Removes all handlers from the event stack for that event name\n         */\n        value: function removeAllEventHandlers(eventName) {\n            if (!_eventHandlers[eventName]) {\n                return false;\n            }_eventHandlers[eventName] = [];\n            return true;\n        }\n    }, {\n        key: 'getEventHandlerCount',\n\n        /**\n         * Returns the number of handlers registered for an event\n         */\n        value: function getEventHandlerCount(eventName) {\n            return _eventHandlers[eventName] ? _eventHandlers[eventName].length : 0;\n        }\n    }, {\n        key: 'isEventHandled',\n\n        /**\n         * Returns true if an event is being handled by 1 or more handlers.\n         */\n        value: function isEventHandled(eventName) {\n            return EventManager.getEventHandlerCount(eventName) > 0;\n        }\n    }]);\n\n    return EventManager;\n})();\n\nexports['default'] = EventManager;\nmodule.exports = exports['default'];","'use strict';\n\nvar _classCallCheck = function (instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } };\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n/*************/\n/** Private **/\n/*************/\n\nvar _debugMode = false;\nvar LOG_LEVELS = ['log', 'warn', 'error'];\n\n/************/\n/** Public **/\n/************/\n\nvar Logger = (function () {\n    function Logger() {\n        _classCallCheck(this, Logger);\n    }\n\n    _createClass(Logger, null, [{\n        key: 'debugMode',\n        get: function () {\n            return _debugMode;\n        },\n        set: function (value) {\n            _debugMode = value;\n        }\n    }, {\n        key: 'log',\n\n        /**\n         * Logs to the browser's console if debug mode is ON\n         */\n        value: function log(msg) {\n            for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                args[_key - 1] = arguments[_key];\n            }\n\n            if (_debugMode) {\n                var level = String(args[0]).toLowerCase();\n                if (LOG_LEVELS.indexOf(level) > -1) {\n                    // get rid of level from args\n                    Array.prototype.splice.call(args, 0, 1);\n                } else {\n                    level = LOG_LEVELS[0];\n                }\n                if (args.length > 0) {\n                    msg += ' ::';\n                }\n                // add msg to args first\n                args.unshift(msg);\n                if (console && console.log && console.log.apply) {\n                    console[level].apply(console, args);\n                }\n                return true;\n            }\n            return false;\n        }\n    }]);\n\n    return Logger;\n})();\n\nexports['default'] = Logger;\nmodule.exports = exports['default'];","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1, '^': 2, '<': 3, '$': 4,\n    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n    '{': 10, '&': 11, '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({tag: '_t', text: new String(buf)});\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = { code: '', subs: {}, partials: {} };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r')\n            .replace(rLineSep, '\\\\u2028')\n            .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {name: node.n, partials: {}};\n    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n                      't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n// This file is for use with Node.js. See dist/ for browser files.\n\nvar Hogan = require('./compiler');\nHogan.Template = require('./template').Template;\nHogan.template = Hogan.Template;\nmodule.exports = Hogan;\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","export const VERSION = '**VERSION**';\nexport const DEFAULT_NAMESPACE = 'HadToShare';\nexport const GLOBAL_CONFIG_NAME_SUFFIX = 'Config';\n\n/** regex */\nexport const SCRIPT_TAG_SRC_REGEX = /(hadtoshare).+(.js)$/i;\nexport const NAMESPACE_REGEX_VALIDATION = /^([a-zA-Z$_])([\\w$_]+)$/;\n\nexport const DEFAULT_LOCALISATION = 'EN-GB';\nexport const LOCALISATION_REGEX_VALIDATION = /^[a-zA-Z]{2}-[a-zA-Z]{2}$/;\n\n/** styling **/\nexport const DEFAULT_CSS_PATH = 'http://localhost:8000/css/h2s.css';\nexport const DEFAULT_LOGO_PATH = 'http://localhost:8000/img/logo.png';\n\n// validation errors\nexport const Errors = {\n    MISSING_CONFIGURATION: 'Missing configuration',\n    INVALID_CONFIGURATION: 'Invalid configuration',\n    NO_ARGUMENTS_FOUND: 'No arguments found',\n    INVALID_URL: 'Invalid URL',\n    INVALID_NAMESPACE: 'Invalid namespace',\n    INVALID_CALLBACK: 'Invalid callback'\n};\n\nexport const Events = {\n    READY: 'ready',\n    CONTENT_SHARED: 'contentShared'\n};\n\n(function() {\n    var eventsValueKeyMap = {};\n    // index Events by value to get the key\n    for (var key in Events) {\n        eventsValueKeyMap[Events[key]] = key;\n    }\n\n    /**\n     * Helper function to check if a value exists\n     * @param  {string} value\n     * @return {Boolean}\n     */\n    Events.valueExists = function(value) {\n        return !!eventsValueKeyMap[value];\n    };\n})();\n","import * as constants from \"./constants.es6\";\nimport Renderer from \"./renderer.es6\";\nimport BrowserKit from \"checkout-browser-kit\";\n\nconst Logger = BrowserKit.Logger;\nconst EventManager = BrowserKit.EventManager;\n\nconst Errors = constants.Errors;\nconst Events = constants.Events;\n\nvar _config = {};\nvar _scriptTag = getPluginScriptTag() || {\n    getAttribute: function() {\n        return null;\n    }\n};\n\n/**\n * Scans all SCRIPT tags on a page for a matching source (src).\n * @return {object} The DOM element representing the SCRIPT tag\n */\nfunction getPluginScriptTag() {\n    return document.currentScript || (() => {\n        var scripts = document.getElementsByTagName(\"script\");\n        for (var index = scripts.length - 1; index--; index >= 0) {\n            if (constants.SCRIPT_TAG_SRC_REGEX.test(scripts[index].getAttribute('src'))) {\n                return scripts[index];\n            }\n        }\n        return null;\n    })();\n}\n\n/**\n * Handlers for events can be added on boot (as a shortcut) via window.XXXConfig or the configure method.\n *\n * Handlers are simply the \"Event value\" defined as a property and the value of that property is the handler function.\n *\n * Eg:\n * {\n *     ...\n *     ready: function(event) {\n *         console.log('ready to go');\n *     },\n *     ...\n * }\n */\nfunction checkAndAddEventHandlers(configValues) {\n    for (var key in configValues) {\n        // the \"key of configValues\" is the \"value of Events\"\n        if (Events.valueExists(key) && typeof configValues[key] === 'function') {\n            // we have a matching event key and a valid handler, add the handler\n            EventManager.addEventHandler(key, configValues[key]);\n        }\n    }\n}\n\n/**\n * To set a custom namespace for various reasons, the \"data-namespace\" attribute can be used.\n */\nfunction setNamespace() {\n    var namespace = _scriptTag.getAttribute('data-namespace');\n    if (namespace) {\n        if (constants.NAMESPACE_REGEX_VALIDATION.test(namespace)) {\n            _config.namespace = namespace;\n        } else {\n            throw new Error(Errors.INVALID_NAMESPACE);\n        }\n    } else {\n        _config.namespace = constants.DEFAULT_NAMESPACE;\n    }\n}\n\n/**\n * Loads CSS file and mounts onto the DOM\n */\nfunction loadCSS() {\n    var cssElement = document.createElement('LINK');\n    cssElement.setAttribute('rel', 'stylesheet');\n    cssElement.setAttribute('type', 'text/css');\n    cssElement.setAttribute('href', constants.DEFAULT_CSS_PATH);\n    document.getElementsByTagName('head')[0].appendChild(cssElement);\n}\n\nclass HadToShare {\n    /**\n     * Scans the SCRIPT tag for data-xxx config attributes or alternatively, looks for config items in configValues.\n     * @param  {object} configValues\n     * @return {void}\n     */\n    static configure(configValues) {\n        configValues = configValues || {};\n\n        // debug mode\n        var isDebugMode = _scriptTag.getAttribute('data-debug-mode');\n        HadToShare.debugMode = isDebugMode === 'true' ? true : (isDebugMode === 'false' ? false : configValues.debugMode);\n\n        // localisation\n        var localisation = _scriptTag.getAttribute('data-localisation') || configValues.localisation || constants.DEFAULT_LOCALISATION;\n        HadToShare.localisation = localisation;\n\n        // html container\n        _config.htmlContainer = BrowserKit.DOM.getElement(String(configValues.htmlContainerSelector), _scriptTag.parentNode || document.getElementsByTagName('body')[0]);\n\n        // logo\n        _config.logoUrl = _scriptTag.getAttribute('data-logo-url') || configValues.logoUrl || constants.DEFAULT_LOGO_PATH;\n\n        // add any handlers on the configValues (eg: ready)\n        checkAndAddEventHandlers(configValues);\n    }\n\n    static get version() {\n        return constants.VERSION;\n    }\n\n    static get namespace() {\n        return _config.namespace;\n    }\n\n    static get debugMode() {\n        return _config.debugMode;\n    }\n    static set debugMode(value) {\n        _config.debugMode = !!value; // force truthy if undefined\n        Logger.debugMode = !!value;\n    }\n\n    static get localisation() {\n        return _config.localisation;\n    }\n    static set localisation(value) {\n        if (constants.LOCALISATION_REGEX_VALIDATION.test(value)) {\n            _config.localisation = value.toUpperCase();\n        } else {\n            throw new Error(Errors.INVALID_LOCALISATION);\n        }\n    }\n\n    static render(config) {\n        BrowserKit.extend(_config, config);\n        HadToShare.configure(_config);\n        Renderer.render(_config);\n    }\n}\n\n// Finalise the namespace and return the module\nsetNamespace();\nloadCSS();\nexport default HadToShare;\n","const LocalisedMessages = {\n    'EN-GB': {\n        title: 'Had To Share'\n    },\n    'FR-FR': {\n        title: 'Rcemment Lu'\n    },\n    'CR-MU': {\n        title: 'Lartique Sok!'\n    }\n};\n\nexport default LocalisedMessages;\n","import * as constants from \"./constants.es6\";\nimport LocalisedMessages from \"./localisation.es6\";\nimport * as share from \"./share.es6\";\nimport templates from \"../templates.js\";\nimport BrowserKit from \"checkout-browser-kit\";\n\nconst EventManager = BrowserKit.EventManager;\n\nvar _elements;\n\nclass Renderer {\n    static render(config) {\n        //if the plugin has already been rendered we clear it first\n        Renderer.clear(config.htmlContainer);\n\n        var html = templates.plugin.render({\n            title: LocalisedMessages[config.localisation].title,\n            logoUrl: config.logoUrl,\n            shareTargets: share.targets\n        });\n\n        config.htmlContainer.innerHTML = html;\n\n        _elements = BrowserKit.DOM.getElements(config.htmlContainer, '.share-target');\n        var shareFunction = function(event) {\n            var name = event.target.getAttribute('data-name');\n            share.post(name);\n            EventManager.dispatchLogEvent(constants.Events.CONTENT_SHARED, {\n                target: name\n            });\n        };\n        for (var index in _elements) {\n            BrowserKit.DOM.addEventListener(_elements[index], 'click', shareFunction);\n        }\n    }\n\n    static clear(container) {\n        //todo: remove click event handlers on _elements\n        container.innerHTML = '';\n    }\n}\n\nexport default Renderer;\n","import BrowserKit from \"checkout-browser-kit\";\n\nexport var targets = [{\n    name: 'twitter',\n    iconUrl: 'http://localhost:8000/img/twitter.png',\n    postUrl: 'https://twitter.com/intent/tweet',\n    titleField: 'text',\n    urlField: 'url'\n}];\n\n// create target lookup by name\nvar targetLookup = {};\nfor (var target of targets) {\n    targetLookup[target.name] = target;\n}\n\nexport function post(targetName) {\n    //TODO: Use Readability Parser API to get content metadata\n    //Below is just a hard-coded example\n\n    var metadata = {\n        [targetLookup[targetName].titleField]: 'Building web plugins', [targetLookup[targetName].urlField]: 'http://www.example.com/folder1/folder2'\n    };\n    var postUrl = targetLookup[targetName].postUrl;\n\n    var targetUrl = postUrl + BrowserKit.toQueryString(postUrl, metadata);\n    window.open(targetUrl, '_blank');\n}\n","module.exports = (function() {\n    var Hogan = require('hogan');\n    var templates = {};\n    templates['plugin'] = new Hogan.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"h2s-plugin\\\">\");t.b(\"\\n\" + i);t.b(\"    <div class=\\\"branding\\\">\");t.b(\"\\n\" + i);t.b(\"        <img src=\\\"\");t.b(t.v(t.f(\"logoUrl\",c,p,0)));t.b(\"\\\">\");t.b(\"\\n\" + i);t.b(\"        <span>\");t.b(t.v(t.f(\"title\",c,p,0)));t.b(\"</span>\");t.b(\"\\n\" + i);t.b(\"    </div>\");t.b(\"\\n\" + i);t.b(\"    <div class=\\\"share-targets\\\">\");t.b(\"\\n\" + i);if(t.s(t.f(\"shareTargets\",c,p,1),c,p,0,179,258,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"        <img src=\\\"\");t.b(t.v(t.f(\"iconUrl\",c,p,0)));t.b(\"\\\" class=\\\"share-target\\\" data-name=\\\"\");t.b(t.v(t.f(\"name\",c,p,0)));t.b(\"\\\">\");t.b(\"\\n\" + i);});c.pop();}t.b(\"    </div>\");t.b(\"\\n\" + i);t.b(\"</div>\");return t.fl(); },partials: {}, subs: {  }});\n    return templates;\n})();"],"sourceRoot":"/source/"}